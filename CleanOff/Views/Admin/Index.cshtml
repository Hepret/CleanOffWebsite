@model List<CleanOff.Domain.ViewModels.EmployeeViewModel>

@{
    Layout = "_AdminPanelLayout";
}


@* @if (@TempData.ContainsKey("EmployeeCreation")) *@
@* { *@
@*     <style> *@
@*         #popup { *@
@*             position: fixed; *@
@*             top: 50%; *@
@*             left: 50%; *@
@*             transform: translate(-50%, -50%); *@
@*             background-color: #fff; *@
@*             padding: 10px; *@
@*             border: 1px solid #ccc; *@
@*             box-shadow: 0 0 10px rgba(0, 0, 0, 0.5); *@
@*         } *@
@*     </style> *@
@*     <div id="popup"> *@
@*         @if (string.Equals((string)@TempData["EmployeeCreation"]!, "succeed")) *@
@*         { *@
@*             <p>Регистрация работника прошла успешно</p> *@
@*         }; *@
@*         @else { *@
@*             <p>Ошибка регитрации работника</p> *@
@*         }; *@
@*     </div> *@
@*     <script> *@
@*             // Отображаем всплывающее окно *@
@*             document.getElementById("popup").style.display = "block"; *@
@*      *@
@*             // Скрываем всплывающее окно через 5 секунд *@
@*             setTimeout(function() { *@
@*                 document.getElementById("popup").style.display = "none"; *@
@*             }, 5000); *@
@*         </script> *@
@* } *@
@if (Model.Count != 0)
{
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Name</th>
                <th>Surname</th>
                <th>Email</th>
                <th></th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var employee in Model)
            {
                <tr>
                    <td>@employee.Name</td>
                    <td>@employee.Surname</td>
                    <td>@employee.Email</td>
                    <td><a class="btn btn-primary" href="/admin/updateEmployee/@employee.EmployeeId">Edit</a></td>
                    <td>
                        <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#deleteModal-@employee.EmployeeId">
                            Delete
                        </button>
                    </td>
                </tr>
    
                <!-- Modal -->
                <div class="modal fade" id="deleteModal-@employee.EmployeeId" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="deleteModalLabel">Delete Employee</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                Are you sure you want to delete this employee?
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
                                <a class="btn btn-danger" href="/admin/deleteEmployee/@employee.EmployeeId">Yes</a>
                            </div>
                        </div>
                    </div>
                </div>
            }
        </tbody>
    </table>
}
else
{
    <h6>Пока нет работников</h6>
}

